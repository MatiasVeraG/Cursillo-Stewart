<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo - Edici√≥n de T√≠tulos en Tiempo Real</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      h1 {
        color: white;
        text-align: center;
        margin-bottom: 30px;
        font-size: 2.5em;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .info-banner {
        background: white;
        padding: 20px;
        border-radius: 15px;
        margin-bottom: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .info-banner h2 {
        color: #667eea;
        margin-bottom: 10px;
      }

      .info-banner ol {
        margin-left: 20px;
        line-height: 1.8;
      }

      .info-banner li {
        margin: 8px 0;
      }

      .split-view {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 20px;
      }

      .panel {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .panel h2 {
        color: #333;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #555;
      }

      .form-group input {
        width: 100%;
        padding: 12px;
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        font-size: 1em;
        transition: all 0.3s ease;
      }

      .form-group input:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .button-group {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      button {
        flex: 1;
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1em;
      }

      .btn-primary {
        background: #10b981;
        color: white;
      }

      .btn-primary:hover {
        background: #059669;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
      }

      .btn-secondary {
        background: #6b7280;
        color: white;
      }

      .btn-secondary:hover {
        background: #4b5563;
        transform: translateY(-2px);
      }

      .preview-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 40px;
        border-radius: 12px;
        color: white;
        text-align: center;
        margin-top: 20px;
        min-height: 200px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .preview-section h2 {
        font-size: 2.2em;
        margin-bottom: 15px;
        animation: fadeIn 0.5s ease;
      }

      .preview-section p {
        font-size: 1.2em;
        opacity: 0.95;
        animation: fadeIn 0.5s ease 0.2s both;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .status {
        margin-top: 15px;
        padding: 15px;
        border-radius: 8px;
        display: none;
        animation: slideIn 0.3s ease;
      }

      .status.show {
        display: block;
      }

      .status.success {
        background: #d1fae5;
        color: #065f46;
        border: 2px solid #10b981;
      }

      .status.info {
        background: #dbeafe;
        color: #1e40af;
        border: 2px solid #3b82f6;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .links {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .link-btn {
        flex: 1;
        padding: 15px;
        background: #3b82f6;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        text-align: center;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .link-btn:hover {
        background: #2563eb;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
      }

      @media (max-width: 1024px) {
        .split-view {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üé® Demo: Edici√≥n de T√≠tulos en Tiempo Real</h1>

      <div class="info-banner">
        <h2>üìã C√≥mo funciona:</h2>
        <ol>
          <li><strong>Edita</strong> los campos de t√≠tulo y subt√≠tulo a continuaci√≥n</li>
          <li><strong>Presiona</strong> "üíæ Guardar T√≠tulos"</li>
          <li><strong>Observa</strong> c√≥mo cambia la vista previa instant√°neamente</li>
          <li>
            <strong>Ve a index.html</strong> y ver√°s los cambios reflejados autom√°ticamente (se
            actualiza cada 2 segundos)
          </li>
        </ol>
      </div>

      <div class="split-view">
        <!-- Panel de Edici√≥n -->
        <div class="panel">
          <h2>‚úèÔ∏è Editor de T√≠tulos</h2>

          <div class="form-group">
            <label for="title-input">T√≠tulo Principal</label>
            <input
              type="text"
              id="title-input"
              placeholder="üéì Nuestros Ingresantes"
              value="üéì Nuestros Ingresantes"
            />
          </div>

          <div class="form-group">
            <label for="subtitle-input">Subt√≠tulo</label>
            <input
              type="text"
              id="subtitle-input"
              placeholder="Conoce a los estudiantes..."
              value="Conoce a los estudiantes que han confiado en nosotros para su preparaci√≥n."
            />
          </div>

          <div class="button-group">
            <button class="btn-primary" onclick="saveTitles()">üíæ Guardar T√≠tulos</button>
            <button class="btn-secondary" onclick="resetTitles()">üîÑ Restaurar</button>
          </div>

          <div class="status" id="status"></div>
        </div>

        <!-- Panel de Vista Previa -->
        <div class="panel">
          <h2>üëÅÔ∏è Vista Previa en Tiempo Real</h2>

          <div class="preview-section" id="preview">
            <h2 id="preview-title">üéì Nuestros Ingresantes</h2>
            <p id="preview-subtitle">
              Conoce a los estudiantes que han confiado en nosotros para su preparaci√≥n.
            </p>
          </div>

          <div class="status info show">
            ‚ÑπÔ∏è Esta es una vista previa de c√≥mo se ver√° en index.html
          </div>
        </div>
      </div>

      <div class="links">
        <a href="index.html#ingresantes" class="link-btn"> üè† Ver en Index.html </a>
        <a href="admin-modular.html" class="link-btn"> üîß Ir al Panel Admin </a>
      </div>
    </div>

    <script>
      // Cargar t√≠tulos guardados al iniciar
      function loadSavedTitles() {
        try {
          const saved = JSON.parse(localStorage.getItem('ingresantes_section_titles') || '{}');

          if (saved.title && saved.subtitle) {
            document.getElementById('title-input').value = saved.title;
            document.getElementById('subtitle-input').value = saved.subtitle;
            updatePreview(saved.title, saved.subtitle);
          }
        } catch (error) {
          console.error('Error loading titles:', error);
        }
      }

      // Guardar t√≠tulos
      function saveTitles() {
        const title = document.getElementById('title-input').value.trim();
        const subtitle = document.getElementById('subtitle-input').value.trim();

        if (!title || !subtitle) {
          showStatus('‚ùå Por favor completa todos los campos', 'error');
          return;
        }

        const titles = {
          title: title,
          subtitle: subtitle,
          lastUpdated: new Date().toISOString(),
        };

        try {
          localStorage.setItem('ingresantes_section_titles', JSON.stringify(titles));
          localStorage.setItem('ingresantes_titles_changed', Date.now().toString());

          updatePreview(title, subtitle);
          showStatus('‚úÖ ¬°T√≠tulos guardados! Los cambios se ver√°n en index.html', 'success');

          console.log('‚úÖ T√≠tulos guardados:', titles);
        } catch (error) {
          console.error('Error saving titles:', error);
          showStatus('‚ùå Error al guardar t√≠tulos', 'error');
        }
      }

      // Restaurar t√≠tulos por defecto
      function resetTitles() {
        if (!confirm('¬øRestaurar los t√≠tulos por defecto?')) return;

        const defaultTitle = 'üéì Nuestros Ingresantes';
        const defaultSubtitle =
          'Conoce a los estudiantes que han confiado en nosotros para su preparaci√≥n.';

        document.getElementById('title-input').value = defaultTitle;
        document.getElementById('subtitle-input').value = defaultSubtitle;

        localStorage.removeItem('ingresantes_section_titles');
        localStorage.setItem('ingresantes_titles_changed', Date.now().toString());

        updatePreview(defaultTitle, defaultSubtitle);
        showStatus('üîÑ T√≠tulos restaurados por defecto', 'success');
      }

      // Actualizar vista previa
      function updatePreview(title, subtitle) {
        const previewTitle = document.getElementById('preview-title');
        const previewSubtitle = document.getElementById('preview-subtitle');

        // Animaci√≥n de actualizaci√≥n
        previewTitle.style.animation = 'none';
        previewSubtitle.style.animation = 'none';

        setTimeout(() => {
          previewTitle.textContent = title;
          previewSubtitle.textContent = subtitle;

          previewTitle.style.animation = 'fadeIn 0.5s ease';
          previewSubtitle.style.animation = 'fadeIn 0.5s ease 0.2s both';
        }, 50);
      }

      // Mostrar mensaje de estado
      function showStatus(message, type) {
        const statusEl = document.getElementById('status');
        statusEl.textContent = message;
        statusEl.className = 'status show ' + type;

        setTimeout(() => {
          statusEl.classList.remove('show');
        }, 5000);
      }

      // Actualizar vista previa en tiempo real mientras escribes
      document.getElementById('title-input').addEventListener('input', e => {
        const subtitle = document.getElementById('subtitle-input').value;
        updatePreview(e.target.value, subtitle);
      });

      document.getElementById('subtitle-input').addEventListener('input', e => {
        const title = document.getElementById('title-input').value;
        updatePreview(title, e.target.value);
      });

      // Cargar t√≠tulos al iniciar
      document.addEventListener('DOMContentLoaded', loadSavedTitles);

      // Detectar cambios de otras pesta√±as
      window.addEventListener('storage', e => {
        if (e.key === 'ingresantes_section_titles' || e.key === 'ingresantes_titles_changed') {
          loadSavedTitles();
        }
      });
    </script>
  </body>
</html>
